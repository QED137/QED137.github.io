<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Backend Development from First Principles → Advanced (Theory + Practical Code)</title>

  <meta name="description" content="Complete backend development guide from first principles: REST APIs, HTTP, authentication, caching, scaling, performance, ORM, background jobs, testing & CI/CD with FastAPI and Python examples." />
  <meta name="keywords" content="backend development, REST API tutorial, FastAPI tutorial, Python backend, API design, HTTP methods, pagination, authentication JWT, caching Redis, horizontal scaling, vertical scaling, ORM SQLAlchemy, background jobs Celery, pytest testing, CI/CD, system design, web development, backend engineer" />
  <meta name="author" content="Janmajay Kumar" />
  <meta name="robots" content="index, follow" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article" />
  <meta property="og:url" content="https://www.janmajay.de/blogs/backend-new.html" />
  <meta property="og:title" content="Backend Development from First Principles → Advanced | Complete Guide" />
  <meta property="og:description" content="Master backend development: REST APIs, authentication, caching, scaling, performance optimization with FastAPI. From fundamentals to production-ready code." />
  <meta property="og:image" content="https://www.janmajay.de/images/backend-thumbnail.png" />
  <meta property="article:published_time" content="2026-01-20T00:00:00Z" />
  <meta property="article:author" content="Janmajay Kumar" />
  <meta property="article:tag" content="Backend Development" />
  <meta property="article:tag" content="REST API" />
  <meta property="article:tag" content="FastAPI" />
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:url" content="https://www.janmajay.de/blogs/backend-new.html" />
  <meta name="twitter:title" content="Backend Development from First Principles → Advanced" />
  <meta name="twitter:description" content="Complete backend roadmap: REST, APIs, auth, caching, scaling, performance, testing. FastAPI + Python examples." />
  <meta name="twitter:image" content="https://www.janmajay.de/images/backend-thumbnail.png" />
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://www.janmajay.de/blogs/backend-new.html" />

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" media="print" onload="this.media='all'" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
          colors: { brand: { 500: '#29a587', 600: '#1f8a72' } },
          boxShadow: { soft: '0 10px 30px rgba(2,6,23,0.08)' }
        }
      }
    }
  </script>

  <!-- Prism (code highlighting) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

  <style>
    html { scroll-behavior: smooth; }
    body {
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(41,165,135,.12), transparent),
        radial-gradient(1200px 600px at 90% 10%, rgba(41,165,135,.08), transparent);
    }
    .dark body, .dark {
      background:
        radial-gradient(1200px 600px at 10% -10%, rgba(41,165,135,.10), transparent),
        radial-gradient(1200px 600px at 90% 10%, rgba(41,165,135,.06), transparent);
    }

    /* Article typography */
    .content p { margin-top: .9rem; margin-bottom: .9rem; }
    .content h1, .content h2, .content h3, .content h4 { scroll-margin-top: 90px; }
    .content h1 { font-size: 1.6rem; font-weight: 800; margin-top: 2.2rem; margin-bottom: 1rem; }
    .content h2 { font-size: 1.25rem; font-weight: 700; margin-top: 1.6rem; margin-bottom: .6rem; }
    .content h3 { font-size: 1.1rem; font-weight: 700; margin-top: 1.1rem; margin-bottom: .4rem; }
    .content h4 { font-size: 1.0rem; font-weight: 700; margin-top: 1rem; margin-bottom: .35rem; }

    .content ol { list-style: decimal; padding-left: 1.25rem; margin: .75rem 0; }
    .content ul { list-style: disc; padding-left: 1.25rem; margin: .5rem 0; }

    .content table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
    .content table th, .content table td { border: 1px solid rgb(226 232 240); padding: .6rem .75rem; }
    .dark .content table th, .dark .content table td { border-color: rgb(51 65 85); }
    .content table thead th { background: rgb(248 250 252); font-weight: 700; }
    .dark .content table thead th { background: rgb(30 41 59); }

    pre { border-radius: .75rem; overflow: auto; }
    code { font-size: 0.95em; }
    .content :not(pre) > code {
      background: rgba(2,6,23,.06);
      padding: .12rem .35rem;
      border-radius: .4rem;
    }
    .dark .content :not(pre) > code {
      background: rgba(255,255,255,.10);
    }

    /* TOC styling */
    #TOC {
      padding: 1rem;
      border: 1px solid rgb(226 232 240);
      border-radius: 1rem;
      background: rgb(248 250 252);
      margin: 1rem 0 1.5rem 0;
    }
    .dark #TOC {
      border-color: rgb(51 65 85);
      background: rgb(30 41 59);
    }
    #TOC ul { list-style: none; padding-left: 0; }
    #TOC li { margin: .35rem 0; }
    #TOC a { 
      text-decoration: none;
      color: rgb(51, 65, 85);
    }
    .dark #TOC a {
      color: rgb(203, 213, 225);
    }
    #TOC a:hover { 
      text-decoration: underline;
      color: #29a587;
    }

    /* Markdown blockquotes */
    .content blockquote {
      border-left: 4px solid rgba(41,165,135,.6);
      padding-left: 1rem;
      margin: 1rem 0;
      color: rgba(15,23,42,.85);
    }
    .dark .content blockquote {
      color: rgba(226,232,240,.92);
    }

    /* Callout boxes */
    .callout {
      padding: 1rem 1.25rem;
      margin: 1.25rem 0;
      border-radius: 0.75rem;
      border-left: 4px solid;
      color: rgb(30, 41, 59);
    }
    .dark .callout {
      color: rgb(226, 232, 240);
    }
    .callout-info {
      background: #dbeafe;
      border: 1px solid #93c5fd;
      border-left: 4px solid #2563eb;
    }
    .dark .callout-info {
      background: #1e3a8a;
      border: 1px solid #3b82f6;
      border-left: 4px solid #60a5fa;
    }
    .callout-warning {
      background: #fef3c7;
      border: 1px solid #fcd34d;
      border-left: 4px solid #d97706;
    }
    .dark .callout-warning {
      background: #78350f;
      border: 1px solid #f59e0b;
      border-left: 4px solid #fbbf24;
    }
    .callout-success {
      background: #d1fae5;
      border: 1px solid #6ee7b7;
      border-left: 4px solid #059669;
    }
    .dark .callout-success {
      background: #064e3b;
      border: 1px solid #10b981;
      border-left: 4px solid #34d399;
    }
    .callout-danger {
      background: #fee2e2;
      border: 1px solid #fca5a5;
      border-left: 4px solid #dc2626;
    }
    .dark .callout-danger {
      background: #7f1d1d;
      border: 1px solid #ef4444;
      border-left: 4px solid #f87171;
    }
    .callout-title {
      font-weight: 700;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: inherit;
    }
    .callout p:last-child {
      margin-bottom: 0;
    }

    /* Article metadata */
    .article-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: center;
      padding: 1rem 0;
      border-bottom: 1px solid rgba(226, 232, 240, 0.5);
      margin-bottom: 1.5rem;
      font-size: 0.875rem;
      color: rgb(100, 116, 139);
    }
    .dark .article-meta {
      border-bottom-color: rgba(51, 65, 85, 0.5);
      color: rgb(148, 163, 184);
    }
    .meta-item {
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .article-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .tag {
      background: rgba(41, 165, 135, 0.1);
      color: #1f8a72;
      padding: 0.25rem 0.75rem;
      border-radius: 9999px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    .dark .tag {
      background: rgba(41, 165, 135, 0.15);
      color: #29a587;
    }
  </style>
</head>

<body class="font-sans antialiased text-slate-900 dark:text-slate-100 bg-white dark:bg-slate-900 selection:bg-brand-500/10 selection:text-slate-900">

  <!-- Header / Nav -->
  <header class="sticky top-0 z-50 backdrop-blur supports-[backdrop-filter]:bg-white/70 bg-white/80 dark:bg-slate-900/80 border-b border-slate-100 dark:border-slate-800">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="flex h-16 items-center justify-between">
        <a href="/#top" class="inline-flex items-center gap-2 rounded-md px-2 py-1.5 text-sm font-semibold text-slate-800 dark:text-slate-100 hover:text-brand-600">
          <span>Janmajay Kumar</span>
        </a>

        <nav class="hidden md:flex items-center gap-6 text-sm font-medium text-slate-700 dark:text-slate-300">
          <a class="hover:text-brand-600" href="/">Home</a>
          <a class="hover:text-brand-600" href="/#projects">Projects</a>
          <a class="text-brand-600" href="../blogs/blogs.html">Blog</a>
          <a class="hover:text-brand-600" href="/#skills">Skills</a>
          <a class="hover:text-brand-600" href="/#contact">Contact</a>
          <a class="hover:text-brand-600" href="../gallery.html">Gallery</a>
        </nav>

        <div class="flex items-center gap-2">
          <button id="theme-toggle"
            class="inline-flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 dark:border-slate-700
                   bg-white/80 dark:bg-slate-800/80 text-slate-700 dark:text-slate-200"
            aria-label="Toggle dark mode" title="Toggle theme">
            <i class="fa-solid fa-moon dark:hidden"></i>
            <i class="fa-solid fa-sun hidden dark:inline"></i>
          </button>
          <button id="menuBtn" class="md:hidden inline-flex h-10 w-10 items-center justify-center rounded-md border border-slate-200 dark:border-slate-700">
            <i class="fa-solid fa-bars"></i>
          </button>
        </div>
      </div>
    </div>

    <div id="mobileMenu" class="md:hidden hidden border-t border-slate-100 dark:border-slate-800 bg-white/90 dark:bg-slate-900/90">
      <div class="mx-auto max-w-7xl px-4 py-3 flex flex-col gap-2 text-sm">
        <a class="hover:text-brand-600" href="/">Home</a>
        <a class="hover:text-brand-600" href="/#projects">Projects</a>
        <a class="text-brand-600" href="../blogs/blogs.html">Blog</a>
        <a class="hover:text-brand-600" href="/#skills">Skills</a>
        <a class="hover:text-brand-600" href="/#contact">Contact</a>
        <a class="hover:text-brand-600" href="../gallery.html">Gallery</a>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-10 pb-4">
    <nav class="text-xs text-slate-500">
      <a class="hover:text-brand-600" href="../blogs/blogs.html">← Back to Blog</a>
    </nav>
    <h1 class="mt-3 text-3xl sm:text-4xl font-black">Backend Development from First Principles → Advanced (Theory + Practical Code)</h1>
    <p class="mt-3 text-sm text-slate-600 dark:text-slate-400">By <strong>Janmajay Kumar</strong></p>
    
    <div class="article-meta mt-4">
      <div class="meta-item">
        <i class="fa-regular fa-clock"></i>
        <span>25 min read</span>
      </div>
      <div class="meta-item">
        <i class="fa-regular fa-calendar"></i>
        <span>January 20, 2026</span>
      </div>
      <div class="article-tags">
        <span class="tag">Backend</span>
        <span class="tag">REST API</span>
        <span class="tag">FastAPI</span>
        <span class="tag">Python</span>
        <span class="tag">System Design</span>
      </div>
    </div>
  </section>

  <!-- Article -->
  <main class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 pb-16">
    <article class="content rounded-2xl border border-slate-200 bg-white p-6 sm:p-8 shadow-soft leading-relaxed text-slate-800">
      
      <h1 id="intro">Backend Development from First Principles → Advanced (Theory + Practical Code)</h1>

      <p>This is <strong>complete backend roadmap</strong>: REST + HTTP semantics, API design, pagination (offset + cursor), validation, authentication/authorization, cookies, caching (Redis + ETag), ORM design with FastAPI, scaling (vertical vs horizontal), performance, background jobs (RQ/Celery), testing (pytest), and CI.</p>

      <div class="callout callout-info">
        <div class="callout-title"><i class="fa-solid fa-circle-info"></i> Note</div>
        <p>Examples use <strong>FastAPI + Python</strong> because they are concise and show backend concepts clearly. The principles apply to any backend stack.</p>
      </div>

      <div id="TOC">
        <h2 style="font-size: 1.1rem; font-weight: 700; margin-bottom: 0.75rem;"> Table of Contents</h2>
        <ul style="margin: 0;">
          <li><a href="#section-0">0. First principles: what a backend is</a></li>
          <li><a href="#section-1">1. The ground: network + HTTP</a></li>
          <li><a href="#section-2">2. What is a REST API?</a></li>
          <li><a href="#section-3">3. Method semantics: safe + idempotent</a></li>
          <li><a href="#section-4">4. Resources: design by nouns</a></li>
          <li><a href="#section-5">5. API interface design (Postman/Insomnia)</a></li>
          <li><a href="#section-6">6. Pagination + sorting + filtering</a></li>
          <li><a href="#section-7">7. Serialization & deserialization</a></li>
          <li><a href="#section-8">8. Validation</a></li>
          <li><a href="#section-9">9. Authentication vs Authorization</a></li>
          <li><a href="#section-10">10. Caching</a></li>
          <li><a href="#section-11">11. Scaling: vertical vs horizontal</a></li>
          <li><a href="#section-12">12. Performance: what matters most</a></li>
          <li><a href="#section-13">13. ORM design (FastAPI + SQLAlchemy)</a></li>
          <li><a href="#section-14">14. Cursor pagination</a></li>
          <li><a href="#section-15">15. Authorization + JWT</a></li>
          <li><a href="#section-16">16. Redis cache + ETag</a></li>
          <li><a href="#section-17">17. Background jobs (RQ / Celery)</a></li>
          <li><a href="#section-18">18. Testing with pytest</a></li>
          <li><a href="#section-19">19. CI (GitHub Actions)</a></li>
          <li><a href="#section-20">20. Security essentials</a></li>
          <li><a href="#section-21">21. Observability</a></li>
          <li><a href="#section-22">22. Background Jobs (detailed)</a></li>
        </ul>
      </div>

<h2 id="section-0">0) First principles: what a backend <em>is</em></h2>

<p>A backend exists to do four fundamental jobs:</p>

<ol>
  <li><strong>Expose capabilities</strong> via a stable interface (usually HTTP APIs).</li>
  <li><strong>Enforce correctness</strong> (validation + business rules).</li>
  <li><strong>Control access</strong> (authentication + authorization).</li>
  <li><strong>Manage state reliably</strong> (databases, caches, queues) and <strong>operate</strong> under load (performance, scaling, observability).</li>
</ol>

<p>Everything else (frameworks, ORMs, caches, message queues) is a tool to serve these jobs.</p>

<h2 id="section-1">1) The ground: network + HTTP</h2>

<h3>1.1 Request → Response</h3>
<p>HTTP is a message protocol:</p>
<ul>
  <li>client sends a <strong>request</strong> (method, path, headers, body)</li>
  <li>server sends a <strong>response</strong> (status code, headers, body)</li>
</ul>

<h3>1.2 Methods (verbs)</h3>
<p>Common methods:</p>
<ul>
  <li><code>GET</code> read</li>
  <li><code>POST</code> create/submit action</li>
  <li><code>PUT</code> replace</li>
  <li><code>PATCH</code> partial update</li>
  <li><code>DELETE</code> delete</li>
  <li><code>HEAD</code> like GET but no body</li>
  <li><code>OPTIONS</code> capabilities / CORS preflight</li>
</ul>

<h3>1.3 Status codes (API "physics")</h3>
<p>Use status codes consistently:</p>
<ul>
  <li><code>200 OK</code> success read/update</li>
  <li><code>201 Created</code> success create</li>
  <li><code>202 Accepted</code> accepted for async job</li>
  <li><code>204 No Content</code> success with no response body</li>
  <li><code>400 Bad Request</code> invalid request format</li>
  <li><code>401 Unauthorized</code> not authenticated</li>
  <li><code>403 Forbidden</code> authenticated but not allowed</li>
  <li><code>404 Not Found</code> resource not found</li>
  <li><code>409 Conflict</code> duplicates / version conflict</li>
  <li><code>422 Unprocessable Entity</code> validation errors (FastAPI default)</li>
  <li><code>429 Too Many Requests</code> rate limited</li>
  <li><code>500 Internal Server Error</code> unexpected failure</li>
</ul>

<h2 id="section-2">2) What is a REST API?</h2>

<p>REST is an <strong>architecture style</strong> defined by constraints. It's not a library.</p>

<h3>2.1 REST = Representation + State + Transfer</h3>
<ul>
  <li><strong>Representation (RE)</strong>: how the resource is represented (JSON, HTML, XML).</li>
  <li><strong>State (S)</strong>: current properties of the resource.</li>
  <li><strong>Transfer (T)</strong>: movement of representation via HTTP (GET/POST/…).</li>
</ul>

<p>Example:</p>
<ul>
  <li><code>GET /tasks/123</code> transfers a JSON representation of task #123.</li>
</ul>

<h3>2.2 REST constraints </h3>
<ol>
  <li><strong>Client–Server separation</strong>
    <ul>
      <li>UI logic stays on the client; data + rules stay on the server.</li>
    </ul>
  </li>
  <li><strong>Uniform interface</strong>
    <ul>
      <li>consistent endpoints, methods, status codes, and payload shapes.</li>
    </ul>
  </li>
  <li><strong>Layered system</strong>
    <ul>
      <li>intermediaries (load balancer, gateway, proxy) can exist; each layer interacts with adjacent layer only.</li>
    </ul>
  </li>
  <li><strong>Cacheable</strong>
    <ul>
      <li>responses explicitly declare if caching is allowed and for how long.</li>
    </ul>
  </li>
  <li><strong>Stateless</strong>
    <ul>
      <li>server does not rely on stored client context between requests (unless you choose sessions explicitly).</li>
    </ul>
  </li>
  <li><strong>Code on demand (optional)</strong>
    <ul>
      <li>server may send executable code (e.g., JavaScript) to extend client functionality.</li>
    </ul>
  </li>
</ol>

<h2 id="section-3">3) Method semantics: safe + idempotent (critical for reliability)</h2>

<p>These properties matter for retries, caching, and correctness.</p>

<h3>3.1 Safe</h3>
<p>A <strong>safe</strong> operation should not change server state:</p>
<ul>
  <li><code>GET</code>, <code>HEAD</code>, <code>OPTIONS</code></li>
</ul>

<h3>3.2 Idempotent</h3>
<p>An operation is <strong>idempotent</strong> if repeating it yields the same end state:</p>
<ul>
  <li><code>GET</code> idempotent (and safe)</li>
  <li><code>PUT</code> idempotent (replace)</li>
  <li><code>DELETE</code> idempotent (delete again → still deleted)</li>
  <li><code>POST</code> usually <strong>not</strong> idempotent (creates a new resource each time)</li>
  <li><code>PATCH</code> depends on implementation (often not guaranteed)</li>
</ul>

<div class="callout callout-success">
  <div class="callout-title"><i class="fa-solid fa-lightbulb"></i> Key Insight</div>
  <p><strong>Why it matters:</strong> if the client retries due to network failure, idempotent methods prevent duplicate side effects.</p>
</div>

<h2 id="section-4">4) Resources: design by nouns</h2>

<p>A <strong>resource</strong> is any noun-like business object:</p>
<ul>
  <li><code>users</code>, <code>tasks</code>, <code>tags</code>, <code>orders</code>, <code>documents</code></li>
</ul>

<h3>4.1 Good URL patterns</h3>
<ul>
  <li>collection: <code>/tasks</code></li>
  <li>item: <code>/tasks/{id}</code></li>
  <li>nested: <code>/users/{id}/tasks</code></li>
</ul>

<p>Keep URLs:</p>
<ul>
  <li>noun-based (no verbs in path if possible)</li>
  <li>stable</li>
  <li>consistent across the API</li>
</ul>

<h3>4.2 CRUD mapping</h3>
<ul>
  <li>Create: <code>POST /tasks</code></li>
  <li>Read: <code>GET /tasks</code>, <code>GET /tasks/{id}</code></li>
  <li>Update full: <code>PUT /tasks/{id}</code></li>
  <li>Update partial: <code>PATCH /tasks/{id}</code></li>
  <li>Delete: <code>DELETE /tasks/{id}</code></li>
</ul>

<h3>4.3 Beyond CRUD (actions)</h3>
<p>Sometimes one needs an action:</p>
<ul>
  <li><code>POST /tasks/{id}/complete</code></li>
  <li><code>POST /payments/{id}/refund</code></li>
</ul>

<p>Prefer modeling as state change (e.g., <code>done=true</code>) when possible.</p>

<h2 id="section-5">5) API interface design in practice (Postman/Insomnia)</h2>

<p>Postman/Insomnia helps :</p>
<ul>
  <li>test endpoints and payloads</li>
  <li>validate status codes</li>
  <li>keep "collections" as a living contract</li>
</ul>

<p>A professional habit:</p>
<ul>
  <li>test <strong>success</strong> and <strong>all failure modes</strong>:
    <ul>
      <li>invalid input → 422</li>
      <li>unauthenticated → 401</li>
      <li>unauthorized → 403</li>
      <li>not found → 404</li>
      <li>conflict → 409</li>
    </ul>
  </li>
</ul>

<h2 id="section-6">6) Pagination + sorting + filtering</h2>

<h3>6.1 Why pagination is not optional</h3>
<p>Without pagination:</p>
<ul>
  <li>responses become huge</li>
  <li>DB gets overloaded</li>
  <li>UI becomes slow (especially infinite scroll)</li>
</ul>

<h3>6.2 Offset pagination (page + limit)</h3>
<p>Query:</p>
<ul>
  <li><code>GET /tasks?limit=20&page=2&sort=-created_at</code></li>
</ul>

<p>Rules:</p>
<ul>
  <li><code>limit</code> must have bounds (e.g. 1..100)</li>
  <li><code>page</code> starts at 1</li>
  <li>provide defaults: <code>limit=20</code>, <code>page=1</code>, <code>sort=-created_at</code></li>
</ul>

<p><strong>Pros:</strong> easy<br>
<strong>Cons:</strong> slow/unstable for deep pages, duplicates when data changes</p>

<h3>6.3 Cursor pagination (best for infinite scroll)</h3>
<p>Instead of <code>page</code>, you use a cursor token (like <code>created_at</code> + <code>id</code>):</p>
<ul>
  <li><code>GET /tasks?limit=20&cursor=2026-01-20T12:00:00Z|a1b2...</code></li>
</ul>

<p><strong>Pros:</strong> stable and scalable<br>
<strong>Cons:</strong> more complex</p>

<h2 id="section-7">7) Serialization & deserialization</h2>

<ul>
  <li><strong>Deserialization</strong>: request JSON → typed objects</li>
  <li><strong>Serialization</strong>: typed objects → response JSON</li>
</ul>

<p>In FastAPI, Pydantic handles:</p>
<ul>
  <li>type coercion</li>
  <li>validation</li>
  <li>schema generation (OpenAPI docs)</li>
</ul>

<h2 id="section-8">8) Validation (trust nothing from the network)</h2>

<p>Validation is your boundary against:</p>
<ul>
  <li>bugs</li>
  <li>corrupted data</li>
  <li>security issues</li>
</ul>

<p>Examples:</p>
<ul>
  <li><code>title</code> length</li>
  <li>required fields</li>
  <li>acceptable ranges</li>
  <li>formats (email, UUID)</li>
</ul>

<h2 id="section-9">9) Authentication vs Authorization</h2>

<ul>
  <li><strong>Authentication</strong>: Who are you?</li>
  <li><strong>Authorization</strong>: What are you allowed to do?</li>
</ul>

<h3>9.1 Typical approaches</h3>
<ul>
  <li><strong>Session cookie</strong> (stateful)</li>
  <li><strong>JWT Bearer token</strong> (stateless)</li>
  <li><strong>API keys</strong> (simple but limited)</li>
</ul>

<h3>9.2 Cookies (short but important)</h3>
<p>For browser-based auth:</p>
<ul>
  <li><code>HttpOnly</code> prevents JS reading cookies</li>
  <li><code>Secure</code> ensures HTTPS-only</li>
  <li><code>SameSite</code> reduces CSRF risk</li>
</ul>

<h2 id="section-10">10) Caching (speed by remembering)</h2>

<p>Caching can exist at many layers:</p>
<ul>
  <li>browser cache</li>
  <li>CDN</li>
  <li>reverse proxy (Nginx)</li>
  <li>app cache (Redis)</li>
  <li>DB indexes (not cache, but essential performance)</li>
</ul>

<h3>10.1 HTTP caching with ETag (best for GET)</h3>
<p>Idea:</p>
<ul>
  <li>server sends <code>ETag</code></li>
  <li>client sends <code>If-None-Match</code></li>
  <li>server returns <code>304 Not Modified</code> if unchanged</li>
</ul>

<h1 id="section-11">11) Scaling: vertical vs horizontal (with concrete examples)</h1>

<h3>11.1 Vertical scaling (scale up)</h3>
<p>You increase resources on one machine:</p>
<ul>
  <li>more CPU</li>
  <li>more RAM</li>
  <li>faster disk</li>
</ul>

<p><strong>Example</strong></p>
<ul>
  <li>A single VM: upgrade from 2 CPU / 4GB RAM → 8 CPU / 16GB RAM</li>
</ul>

<p><strong>Pros:</strong> simple<br>
<strong>Cons:</strong> hard limit; single point of failure</p>

<h3>11.2 Horizontal scaling (scale out)</h3>
<p>You run multiple replicas of your service:</p>
<ul>
  <li>2, 4, 10 backend instances</li>
  <li>a load balancer distributes requests</li>
</ul>

<p><strong>Pros:</strong> scalable + resilient<br>
<strong>Cons:</strong> requires stateless design + shared state in DB/cache</p>

<h3>11.3 Horizontal scaling example with Docker + Nginx load balancing</h3>

<p><strong>docker-compose.yml</strong></p>
<pre><code class="language-yaml">services:
  api:
    build: .
    deploy:
      replicas: 3  # (works in swarm; for local dev use multiple services or docker compose scale)
    environment:
      - DATABASE_URL=postgresql://postgres:postgres@db:5432/app
    depends_on:
      - db

  nginx:
    image: nginx:alpine
    ports:
      - "8080:80"
    volumes:
      - ./nginx.conf:/etc/nginx/nginx.conf:ro
    depends_on:
      - api

  db:
    image: postgres:16
    environment:
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: app</code></pre>

<p><strong>nginx.conf</strong></p>
<pre><code class="language-nginx">events {}

http {
  upstream api_upstream {
    # in real setups, you'd list service DNS names or use service discovery
    # Example conceptually:
    server api:8000;
  }

  server {
    listen 80;

    location / {
      proxy_pass http://api_upstream;
      proxy_set_header Host $host;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
  }
}</code></pre>

<div class="callout callout-warning">
  <div class="callout-title"><i class="fa-solid fa-triangle-exclamation"></i> Critical Requirement</div>
  <p>In horizontal scaling, your API must be <strong>stateless</strong> (or store session state in Redis / DB).</p>
</div>

<h1 id="section-12">12) Performance: what matters most</h1>

<h3>12.1 The backend performance hierarchy (typical)</h3>
<ol>
  <li><strong>Database queries</strong> dominate latency</li>
  <li>External API calls dominate latency</li>
  <li>CPU-heavy work blocks worker threads/processes</li>
</ol>

<h3>12.2 Practical rules</h3>
<ul>
  <li>paginate lists</li>
  <li>index columns used in filters/sorts</li>
  <li>avoid N+1 queries</li>
  <li>cache expensive reads</li>
  <li>use async for I/O waits (DB/network), not for CPU work</li>
  <li>add timeouts for external calls</li>
</ul>

<h1 id="section-13">13) ORM design (FastAPI + SQLAlchemy) with created_at/updated_at + sorting</h1>

<p>This is a realistic minimal stack:</p>
<ul>
  <li>SQLAlchemy ORM</li>
  <li>SQLite for demo (swap to Postgres in production)</li>
</ul>

<h2>13.1 Install</h2>
<pre><code class="language-bash">pip install fastapi uvicorn sqlalchemy</code></pre>

<h2>13.2 db.py</h2>
<pre><code class="language-python">from sqlalchemy import create_engine
from sqlalchemy.orm import sessionmaker, declarative_base

DATABASE_URL = "sqlite:///./app.db"

engine = create_engine(
    DATABASE_URL,
    connect_args={"check_same_thread": False},  # sqlite only
)
SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)
Base = declarative_base()</code></pre>

<h2>13.3 models.py (with created_at / updated_at)</h2>
<pre><code class="language-python">from sqlalchemy import Column, String, Boolean, DateTime, func
from uuid import uuid4
from db import Base

class TaskORM(Base):
    __tablename__ = "tasks"

    id = Column(String, primary_key=True, default=lambda: str(uuid4()))
    title = Column(String, nullable=False)
    done = Column(Boolean, nullable=False, default=False)

    created_at = Column(DateTime(timezone=True), server_default=func.now(), nullable=False)
    updated_at = Column(DateTime(timezone=True), server_default=func.now(), onupdate=func.now(), nullable=False)</code></pre>

<h2>13.4 schemas.py</h2>
<pre><code class="language-python">from pydantic import BaseModel, Field
from datetime import datetime

class TaskCreate(BaseModel):
    title: str = Field(min_length=1, max_length=200)
    done: bool = False

class TaskUpdate(BaseModel):
    title: str | None = Field(default=None, min_length=1, max_length=200)
    done: bool | None = None

class TaskOut(BaseModel):
    id: str
    title: str
    done: bool
    created_at: datetime
    updated_at: datetime</code></pre>

<h2>13.5 main.py (CRUD + pagination + sorting)</h2>
<pre><code class="language-python">from fastapi import FastAPI, Depends, HTTPException, Query
from sqlalchemy.orm import Session
from sqlalchemy import desc, asc
from db import Base, engine, SessionLocal
from models import TaskORM
from schemas import TaskCreate, TaskUpdate, TaskOut

Base.metadata.create_all(bind=engine)

app = FastAPI(title="FastAPI + ORM (First Principles → Realistic)")

def get_db():
    db = SessionLocal()
    try:
        yield db
    finally:
        db.close()

def apply_sort(query, sort: str):
    # sort examples: "created_at", "-created_at", "title", "-title"
    mapping = {
        "created_at": TaskORM.created_at,
        "updated_at": TaskORM.updated_at,
        "title": TaskORM.title,
        "done": TaskORM.done,
    }
    direction = desc if sort.startswith("-") else asc
    key = sort[1:] if sort.startswith("-") else sort
    col = mapping.get(key)
    if not col:
        return query  # ignore unknown sort (or raise 400)
    return query.order_by(direction(col), desc(TaskORM.id))

@app.post("/tasks", response_model=TaskOut, status_code=201)
def create_task(payload: TaskCreate, db: Session = Depends(get_db)):
    task = TaskORM(title=payload.title, done=payload.done)
    db.add(task)
    db.commit()
    db.refresh(task)
    return task

@app.get("/tasks/{task_id}", response_model=TaskOut)
def get_task(task_id: str, db: Session = Depends(get_db)):
    task = db.get(TaskORM, task_id)
    if not task:
        raise HTTPException(status_code=404, detail="Task not found")
    return task

@app.get("/tasks", response_model=list[TaskOut])
def list_tasks(
    limit: int = Query(20, ge=1, le=100),
    page: int = Query(1, ge=1),
    sort: str = Query("-created_at"),
    db: Session = Depends(get_db),
):
    offset = (page - 1) * limit
    q = db.query(TaskORM)
    q = apply_sort(q, sort)
    return q.offset(offset).limit(limit).all()

@app.patch("/tasks/{task_id}", response_model=TaskOut)
def patch_task(task_id: str, payload: TaskUpdate, db: Session = Depends(get_db)):
    task = db.get(TaskORM, task_id)
    if not task:
        raise HTTPException(status_code=404, detail="Task not found")

    data = payload.model_dump(exclude_unset=True)
    for k, v in data.items():
        setattr(task, k, v)

    db.commit()
    db.refresh(task)
    return task

@app.delete("/tasks/{task_id}", status_code=204)
def delete_task(task_id: str, db: Session = Depends(get_db)):
    task = db.get(TaskORM, task_id)
    if not task:
        raise HTTPException(status_code=404, detail="Task not found")
    db.delete(task)
    db.commit()
    return</code></pre>

<p>Run:</p>
<pre><code class="language-bash">uvicorn main:app --reload</code></pre>

<h1 id="section-14">14) Cursor pagination example (conceptual + code)</h1>

<p>Cursor pagination usually needs:</p>
<ul>
  <li>a stable sort: <code>(created_at, id)</code></li>
  <li>a cursor token: <code>"created_at|id"</code></li>
</ul>

<p><strong>Endpoint idea</strong></p>
<ul>
  <li><code>GET /tasks?limit=20&cursor=&lt;created_at&gt;|&lt;id&gt;</code></li>
</ul>

<p><strong>Pseudo-implementation</strong></p>
<pre><code class="language-python"># where tasks are ordered by created_at desc, id desc
# cursor = "2026-01-20T12:00:00Z|&lt;id&gt;"

# Fetch items with (created_at, id) &lt; cursor tuple in same order.</code></pre>

<p>In production you also:</p>
<ul>
  <li>sign/encrypt the cursor token</li>
  <li>validate token format</li>
  <li>return <code>next_cursor</code> in response</li>
</ul>

<h1 id="section-15">15) Authorization (role-based) + JWT (minimal example)</h1>

<div class="callout callout-warning">
  <div class="callout-title"><i class="fa-solid fa-triangle-exclamation"></i> Production Warning</div>
  <p>This is intentionally minimal to show the concept; production JWT must include key rotation, stronger claims validation, etc.</p>
</div>

<p>Install:</p>
<pre><code class="language-bash">pip install python-jose[cryptography] passlib[bcrypt]</code></pre>

<p><strong>Idea</strong></p>
<ul>
  <li>user logs in → receives JWT</li>
  <li>requests include <code>Authorization: Bearer &lt;token&gt;</code></li>
  <li>backend checks token → extracts <code>sub</code> + <code>role</code></li>
</ul>

<h1 id="section-16">16) Redis cache + ETag support for GET</h1>

<h3>16.1 Redis cache (concept)</h3>
<p>Cache read-heavy endpoints:</p>
<ul>
  <li>store serialized response for a key (e.g., <code>tasks:list:limit=20&page=1</code>)</li>
  <li>invalidate cache when tasks change (create/update/delete)</li>
</ul>

<h3>16.2 ETag (HTTP caching)</h3>
<p>If client has ETag and content unchanged → return <code>304</code>.</p>

<h1 id="section-17">17) Background jobs (RQ / Celery) for heavy tasks</h1>

<h3>Why background jobs exist</h3>
<ul>
  <li>keep API fast</li>
  <li>prevent timeouts</li>
  <li>improve throughput</li>
  <li>enable retries safely</li>
</ul>

<h3>Common pattern</h3>
<ul>
  <li><code>POST /jobs</code> → returns <code>job_id</code> (202 Accepted)</li>
  <li><code>GET /jobs/{job_id}</code> → status/result</li>
</ul>

<p>(See the full RQ/Celery section near the end of this file )</p>

<h1 id="section-18">18) Testing with pytest (backend quality)</h1>

<p>Install:</p>
<pre><code class="language-bash">pip install pytest httpx</code></pre>

<p>Example test using FastAPI TestClient:</p>
<pre><code class="language-python">from fastapi.testclient import TestClient
from main import app

client = TestClient(app)

def test_create_and_get_task():
    r = client.post("/tasks", json={"title": "hello", "done": False})
    assert r.status_code == 201
    task = r.json()
    assert task["title"] == "hello"

    r2 = client.get(f"/tasks/{task['id']}")
    assert r2.status_code == 200
    assert r2.json()["id"] == task["id"]</code></pre>

<p>Test principles:</p>
<ul>
  <li>unit tests for pure functions (fast)</li>
  <li>integration tests for API endpoints</li>
  <li>database tests using temporary DB (or test containers)</li>
</ul>

<h1 id="section-19">19) CI (GitHub Actions) minimal pipeline</h1>

<p><code>.github/workflows/ci.yml</code></p>
<pre><code class="language-yaml">name: CI

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-python@v5
        with:
          python-version: "3.11"
      - run: pip install -r requirements.txt
      - run: pytest -q</code></pre>

<h1 id="section-20">20) Security essentials (must-have mental model)</h1>
<ul>
  <li>validate input (always)</li>
  <li>authn + authz</li>
  <li>rate limiting</li>
  <li>CORS configuration</li>
  <li>avoid leaking stack traces in production</li>
  <li>secrets in env vars, not in repo</li>
  <li>log carefully (no passwords/tokens)</li>
</ul>

<h1 id="section-21">21) Observability (operate your backend)</h1>
<ul>
  <li>structured logs (JSON logs)</li>
  <li>request IDs / correlation IDs</li>
  <li>metrics (latency, error rate, throughput)</li>
  <li>traces (distributed tracing if microservices)</li>
</ul>

<h1 id="section-22">22) Full Background Jobs section (copy-paste ready)</h1>

<h2>Background jobs for heavy tasks (Celery / RQ) — first principles</h2>

<h3>Why background jobs exist</h3>
<p>HTTP request/response is meant for fast interactions. If you do heavy work inside a request:</p>
<ul>
  <li>the API becomes slow</li>
  <li>requests time out</li>
  <li>web workers get blocked</li>
  <li>retries can duplicate work</li>
</ul>

<p>So we separate execution into two planes:</p>
<ol>
  <li>Web plane: validate + authorize + enqueue work → return quickly</li>
  <li>Worker plane: execute heavy work → store results → handle retries</li>
</ol>

<h3>Option A: RQ (Redis Queue) — simplest</h3>
<p>Install:</p>
<pre><code class="language-bash">pip install rq redis fastapi uvicorn</code></pre>

<p>worker.py</p>
<pre><code class="language-python">import time

def heavy_task(n: int) -> dict:
    time.sleep(5)
    return {"input": n, "output": n * n}</code></pre>

<p>queue.py</p>
<pre><code class="language-python">import os
from redis import Redis
from rq import Queue

REDIS_URL = os.getenv("REDIS_URL", "redis://localhost:6379/0")
redis_conn = Redis.from_url(REDIS_URL)
q = Queue("default", connection=redis_conn)</code></pre>

<p>FastAPI submit + poll:</p>
<pre><code class="language-python">from fastapi import FastAPI, HTTPException
from rq.job import Job
from queue import q, redis_conn
from worker import heavy_task

app = FastAPI()

@app.post("/jobs", status_code=202)
def submit_job(n: int):
    job = q.enqueue(heavy_task, n)
    return {"job_id": job.id}

@app.get("/jobs/{job_id}")
def job_status(job_id: str):
    try:
        job = Job.fetch(job_id, connection=redis_conn)
    except Exception:
        raise HTTPException(status_code=404, detail="Job not found")
    return {"job_id": job.id, "status": job.get_status(), "result": job.result}</code></pre>

<p>Run:</p>
<pre><code class="language-bash">docker run -p 6379:6379 redis:7
rq worker -u redis://localhost:6379/0 default
uvicorn app:app --reload</code></pre>

<h3>Option B: Celery — more powerful</h3>
<p>Install:</p>
<pre><code class="language-bash">pip install celery redis fastapi uvicorn</code></pre>

<p>celery_app.py</p>
<pre><code class="language-python">import os
from celery import Celery

REDIS_URL = os.getenv("REDIS_URL", "redis://localhost:6379/0")
celery = Celery("tasks", broker=REDIS_URL, backend=REDIS_URL)</code></pre>

<p>tasks.py</p>
<pre><code class="language-python">import time
from celery_app import celery

@celery.task(bind=True, autoretry_for=(Exception,), retry_backoff=True, retry_kwargs={"max_retries": 5})
def heavy_task(self, n: int) -> dict:
    time.sleep(5)
    return {"input": n, "output": n * n}</code></pre>

<p>FastAPI submit + poll:</p>
<pre><code class="language-python">from fastapi import FastAPI
from celery_app import celery
from tasks import heavy_task

app = FastAPI()

@app.post("/jobs", status_code=202)
def submit_job(n: int):
    res = heavy_task.delay(n)
    return {"job_id": res.id}

@app.get("/jobs/{job_id}")
def job_status(job_id: str):
    res = celery.AsyncResult(job_id)
    return {"job_id": job_id, "status": res.status, "result": res.result if res.successful() else None}</code></pre>

<p>Run:</p>
<pre><code class="language-bash">docker run -p 6379:6379 redis:7
celery -A celery_app.celery worker --loglevel=INFO
uvicorn app:app --reload</code></pre>

<h2>Final checklist: backend maturity</h2>
<p>When you build any feature, ask:</p>
<ol>
  <li>What is the resource + contract?</li>
  <li>What validation and invariants must hold?</li>
  <li>What authn/authz rules apply?</li>
  <li>Where is truth stored (DB)?</li>
  <li>How will it scale (stateless + cache + queue)?</li>
  <li>How is it tested and deployed?</li>
  <li>How do I observe it in production?</li>
</ol>

    </article>
  </main>

  <!-- Footer -->
  <footer class="border-t border-slate-100 dark:border-slate-800 bg-white/70 dark:bg-slate-900/60">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-8 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-slate-600 dark:text-slate-300">
      <p>© <span id="year"></span> QED137 Blog | Designed by Janmajay</p>
      <div class="flex items-center gap-4">
        <a href="https://github.com/QED137" target="_blank" class="hover:text-brand-600"><i class="fa-brands fa-github"></i></a>
        <a href="https://www.linkedin.com/in/jkiit/" target="_blank" class="hover:text-brand-600"><i class="fa-brands fa-linkedin"></i></a>
      </div>
    </div>
  </footer>

  <!-- Prism -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-yaml.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-sql.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-nginx.min.js"></script>

  <script>
    // mobile menu
    const btn = document.getElementById('menuBtn');
    const mm = document.getElementById('mobileMenu');
    btn && btn.addEventListener('click', () => mm.classList.toggle('hidden'));

    // year
    document.getElementById('year').textContent = new Date().getFullYear();

    // theme toggle (persisted)
    (function () {
      const root = document.documentElement;
      const toggle = document.getElementById('theme-toggle');

      if (localStorage.theme === 'dark' ||
          (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        root.classList.add('dark');
      } else {
        root.classList.remove('dark');
      }

      toggle?.addEventListener('click', () => {
        root.classList.toggle('dark');
        localStorage.theme = root.classList.contains('dark') ? 'dark' : 'light';
      });
    })();
  </script>

  <!-- Structured Data (JSON-LD) for SEO -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "TechArticle",
    "headline": "Backend Development from First Principles to Advanced",
    "description": "Complete backend development guide covering REST APIs, HTTP, authentication, caching, scaling, performance, ORM, background jobs, testing and CI/CD with FastAPI and Python examples.",
    "image": "https://www.janmajay.de/images/backend-thumbnail.png",
    "author": {
      "@type": "Person",
      "name": "Janmajay Kumar",
      "url": "https://www.janmajay.de",
      "sameAs": [
        "https://github.com/QED137",
        "https://www.linkedin.com/in/jkiit/"
      ]
    },
    "publisher": {
      "@type": "Person",
      "name": "Janmajay Kumar"
    },
    "datePublished": "2026-01-20",
    "dateModified": "2026-01-21",
    "keywords": ["backend development", "REST API", "FastAPI", "Python", "system design", "authentication", "caching", "scaling", "ORM", "SQLAlchemy", "testing", "CI/CD"],
    "articleSection": "Backend Development",
    "inLanguage": "en-US",
    "proficiencyLevel": "Beginner to Advanced",
    "educationalUse": "Tutorial",
    "typicalAgeRange": "18-",
    "timeRequired": "PT25M"
  }
  </script>
</body>
</html>
